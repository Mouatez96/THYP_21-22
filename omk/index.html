<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Affichage</title>
    <style>

    </style>
</head>
<body>

    <div id="content_templates">
    </div>

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script>

        var contentTemplates = document.getElementById("content_templates");
        var content ="";
        var url = "data/resource_templates.json";
        d3.json(url, function (json) {
            //console.log(json)
            for(var i=1; i<json.length; i++) {
                //console.log(json[i])

                content += "<div class='label'>"+json[i]["o:label"]+"</div>"
                var id=json[i]["o:id"]
                url = "data/resource_templates_"+id+".json"
                d3.json(url, function (jso) {
                    //console.log(jso["o:resource_class"])
                    var element = jso["o:resource_class"]
                    content += "<div class='details'>"
                    for (const index in element) {
                        content +="<div>"+index +" : "+element[''+index] +"</div>"
                        console.log(index+" : "+element[""+index+""])
                    }
                    content +="</div> <br>"

                });

            }
            contentTemplates.innerHTML = content
        });
        console.log("------------------------------------------");
        url = "data/resource_templates_5.json";
        d3.json(url, function (json) {
           // console.log(json)
            //console.log(json["o:label"])
        });

    </script>

</body>
</html>
